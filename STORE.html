<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCATTER GSM STORE - Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ Ù…ØªÙ‚Ø¯Ù…</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', 'Segoe UI', Arial, sans-serif;
            background: #0f1419;
            color: #ddd;
            line-height: 1.6;
            min-height: 100vh;
        }

        /* LOGIN PAGE */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #1a1f3a 0%, #0f1419 100%);
        }

        .login-box {
            background: linear-gradient(135deg, #1a1f3a 0%, #16213e 100%);
            padding: 50px;
            border-radius: 15px;
            border: 2px solid #ff6b35;
            width: 100%;
            max-width: 450px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }

        .login-box h1 {
            text-align: center;
            color: #ff6b35;
            margin-bottom: 10px;
            font-size: 32px;
        }

        .login-box .subtitle {
            text-align: center;
            color: #999;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #ff6b35;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ff6b35;
            border-radius: 8px;
            background: rgba(255,255,255,0.05);
            color: white;
            font-size: 16px;
            transition: 0.3s;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            background: rgba(255,255,255,0.1);
            box-shadow: 0 0 10px rgba(255,107,53,0.3);
        }

        .btn-login {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #ff6b35, #ff8c42);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
            transition: 0.3s;
            margin-top: 10px;
        }

        .btn-login:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 15px rgba(255,107,53,0.4);
        }

        .form-section {
            display: none;
        }

        .form-section.active {
            display: block;
        }

        /* HEADER */
        .header {
            background: linear-gradient(135deg, #1a1f3a 0%, #0f1419 100%);
            color: white;
            padding: 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
        }

        .logo {
            font-size: 26px;
            font-weight: bold;
            background: linear-gradient(135deg, #ff6b35, #ff8c42);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-links {
            display: flex;
            gap: 35px;
            list-style: none;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            padding: 8px 0;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: 0.3s;
        }

        .nav-links a:hover {
            color: #ff6b35;
            border-bottom-color: #ff6b35;
        }

        .nav-right {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .user-info {
            color: #ff6b35;
            font-weight: bold;
        }

        .btn-logout {
            padding: 8px 15px;
            background: #ff6b35;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
        }

        .btn-logout:hover {
            background: #ff8c42;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
            font-size: 24px;
            color: #ff6b35;
        }

        .cart-count {
            position: absolute;
            top: -10px;
            left: -10px;
            background: #ff6b35;
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            border: 2px solid #0f1419;
        }

        /* CONTENT */
        .content {
            display: none;
        }

        .content.active {
            display: block;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .page-title {
            color: #ff6b35;
            font-size: 32px;
            margin-bottom: 30px;
            border-bottom: 3px solid #ff6b35;
            padding-bottom: 15px;
        }

        /* TABS */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #ff6b35;
            padding-bottom: 0;
        }

        .tab-btn {
            padding: 12px 20px;
            background: none;
            border: none;
            color: white;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
        }

        .tab-btn.active {
            color: #ff6b35;
            border-bottom-color: #ff6b35;
        }

        .tab-btn:hover {
            color: #ff6b35;
        }

        /* FORMS */
        .form-container {
            background: linear-gradient(135deg, #1a1f3a 0%, #16213e 100%);
            padding: 25px;
            border-radius: 12px;
            border: 2px solid #ff6b35;
            margin-bottom: 30px;
        }

        .form-container h3 {
            color: #ff6b35;
            margin-bottom: 20px;
            font-size: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group-inline {
            display: flex;
            flex-direction: column;
        }

        .form-group-inline label {
            color: #ff6b35;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 14px;
        }

        .form-group-inline input, .form-group-inline select, .form-group-inline textarea {
            padding: 10px;
            border: 2px solid #ff6b35;
            border-radius: 6px;
            background: rgba(255,255,255,0.05);
            color: white;
            font-size: 14px;
        }

        .form-group-inline textarea {
            resize: vertical;
            min-height: 80px;
        }

        .image-preview {
            width: 100%;
            height: 150px;
            background: rgba(255,107,53,0.1);
            border: 2px dashed #ff6b35;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .image-preview img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .btn-primary {
            padding: 12px 30px;
            background: linear-gradient(135deg, #4caf50, #45a049);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            transition: 0.3s;
        }

        .btn-primary:hover {
            transform: scale(1.02);
        }

        /* TABLES */
        .table-container {
            background: linear-gradient(135deg, #1a1f3a 0%, #16213e 100%);
            border-radius: 12px;
            border: 2px solid #ff6b35;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .table-responsive {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        table thead {
            background: rgba(255,107,53,0.2);
        }

        table th {
            color: #ff6b35;
            padding: 15px;
            text-align: right;
            font-weight: bold;
            border-bottom: 2px solid #ff6b35;
        }

        table td {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255,107,53,0.1);
            color: #ddd;
        }

        table tr:hover {
            background: rgba(255,107,53,0.05);
        }

        .btn-edit, .btn-delete, .btn-view {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            font-size: 12px;
            margin: 2px;
            transition: 0.3s;
        }

        .btn-edit {
            background: #2196F3;
            color: white;
        }

        .btn-edit:hover {
            background: #0b7dda;
        }

        .btn-delete {
            background: #ff1744;
            color: white;
        }

        .btn-delete:hover {
            background: #d81b60;
        }

        .btn-view {
            background: #ff6b35;
            color: white;
        }

        /* PRODUCTS GRID */
        /* HERO SECTION */
        .hero-section {
            background: linear-gradient(135deg, #1a1f3a 0%, #0f1419 100%);
            padding: 80px 20px;
            text-align: center;
            margin-bottom: 50px;
            border-bottom: 3px solid #ff6b35;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 50%, rgba(255,107,53,0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(255,107,53,0.05) 0%, transparent 50%);
            pointer-events: none;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
        }

        .hero-content h1 {
            font-size: 48px;
            color: #ff6b35;
            margin-bottom: 20px;
            animation: slideDown 0.8s ease;
        }

        .hero-content .tagline {
            font-size: 18px;
            color: #ddd;
            margin-bottom: 20px;
            opacity: 0.9;
        }

        .hero-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .hero-feature {
            padding: 15px;
            background: rgba(255,107,53,0.1);
            border: 1px solid #ff6b35;
            border-radius: 8px;
        }

        .hero-feature-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .hero-feature-text {
            font-size: 12px;
            color: #ddd;
            font-weight: bold;
        }

        /* BANNER SECTION */
        .banner-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 50px;
        }

        .banner-card {
            background: linear-gradient(135deg, #ff6b35, #ff8c42);
            padding: 30px;
            border-radius: 12px;
            color: white;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 8px 25px rgba(255,107,53,0.3);
        }

        .banner-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(255,107,53,0.5);
        }

        .banner-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        }

        .banner-content {
            position: relative;
            z-index: 1;
        }

        .banner-label {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .banner-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .banner-discount {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .banner-btn {
            background: white;
            color: #ff6b35;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            font-size: 12px;
            transition: 0.3s;
        }

        .banner-btn:hover {
            transform: scale(1.05);
        }

        /* CATEGORIES SHOWCASE */
        .categories-section {
            margin-bottom: 50px;
        }

        .section-title {
            font-size: 32px;
            color: #ff6b35;
            margin-bottom: 30px;
            text-align: center;
            border-bottom: 3px solid #ff6b35;
            padding-bottom: 15px;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .category-showcase {
            background: linear-gradient(135deg, #1a1f3a 0%, #16213e 100%);
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: 0.3s;
            border: 2px solid #ff6b35;
            position: relative;
            overflow: hidden;
        }

        .category-showcase::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,107,53,0.1);
            opacity: 0;
            transition: 0.3s;
        }

        .category-showcase:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(255,107,53,0.3);
        }

        .category-showcase:hover::before {
            opacity: 1;
        }

        .category-icon-large {
            font-size: 64px;
            margin-bottom: 15px;
        }

        .category-name {
            font-size: 18px;
            color: white;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .category-count {
            color: #ff6b35;
            font-size: 13px;
            font-weight: bold;
        }

        /* FEATURED PRODUCTS */
        .featured-section {
            background: linear-gradient(135deg, rgba(255,107,53,0.1), rgba(255,140,66,0.1));
            padding: 40px 20px;
            border-radius: 12px;
            margin-bottom: 50px;
            border: 2px solid #ff6b35;
        }

        .featured-label {
            display: inline-block;
            background: #ff6b35;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 15px;
            text-transform: uppercase;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .product-card {
            background: linear-gradient(135deg, #1a1f3a 0%, #16213e 100%);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: 0.3s;
            border: 2px solid transparent;
            position: relative;
        }

        .product-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff6b35;
            color: white;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            z-index: 10;
        }

        .product-card:hover {
            transform: translateY(-10px);
            border-color: #ff6b35;
            box-shadow: 0 12px 30px rgba(255,107,53,0.5);
        }

        .product-image {
            width: 100%;
            height: 220px;
            background: linear-gradient(135deg, #1a1f3a 0%, #16213e 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        .product-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,107,53,0.1);
            opacity: 0;
            transition: 0.3s;
        }

        .product-card:hover .product-image::after {
            opacity: 1;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-info {
            padding: 20px 15px;
            background: linear-gradient(135deg, #1a1f3a 0%, #16213e 100%);
        }

        .product-name {
            font-size: 16px;
            color: white;
            margin-bottom: 8px;
            font-weight: bold;
            line-height: 1.4;
            min-height: 40px;
        }

        .product-price {
            font-size: 20px;
            color: #ff6b35;
            margin: 12px 0;
            font-weight: bold;
        }

        .product-rating {
            color: #ffc107;
            font-size: 13px;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .btn-add-cart {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #ff6b35, #ff8c42);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: 0.3s;
        }

        .btn-add-cart:hover {
            transform: scale(1.02);
            box-shadow: 0 6px 20px rgba(255,107,53,0.4);
        }

        .btn-add-cart:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* STATS */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #1a1f3a 0%, #16213e 100%);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #ff6b35;
            text-align: center;
        }

        .stat-value {
            font-size: 28px;
            font-weight: bold;
            color: #ff6b35;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #999;
            font-size: 12px;
            text-transform: uppercase;
        }

        /* MODALS */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1f3a 0%, #16213e 100%);
            padding: 30px;
            border-radius: 12px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            border: 2px solid #ff6b35;
            margin: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #ff6b35;
            padding-bottom: 15px;
        }

        .modal-header h2 {
            color: #ff6b35;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #ff6b35;
        }

        /* CART */
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: rgba(255,107,53,0.1);
            border-right: 3px solid #ff6b35;
            border-radius: 6px;
            margin-bottom: 10px;
        }

        .cart-item img {
            width: 50px;
            height: 50px;
            border-radius: 4px;
            object-fit: cover;
            margin-left: 10px;
        }

        .cart-total {
            font-size: 24px;
            font-weight: bold;
            color: #ff6b35;
            text-align: center;
            padding: 20px;
            background: rgba(255,107,53,0.1);
            border: 2px solid #ff6b35;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .btn-checkout {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #ff6b35, #ff8c42);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: #4caf50;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            z-index: 2000;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(400px); }
            to { transform: translateX(0); }
        }

        @keyframes slideDown {
            from { 
                transform: translateY(-30px);
                opacity: 0;
            }
            to { 
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .footer {
            background: #0a0e14;
            color: #999;
            text-align: center;
            padding: 20px;
            border-top: 2px solid #ff6b35;
        }

        @media (max-width: 768px) {
            .navbar { flex-wrap: wrap; }
            .products-grid { grid-template-columns: 1fr; }
            .form-row { grid-template-columns: 1fr; }
            .hero-content h1 { font-size: 32px; }
            .banner-grid { grid-template-columns: 1fr; }
            .categories-grid { grid-template-columns: 1fr; }
        }
    </style>
    <!-- jsPDF Library for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <!-- LOGIN PAGE -->
    <div id="loginPage" class="login-container">
        <div class="login-box">
            <h1>âš¡ SCATTER GSM</h1>
            <p class="subtitle">Ù…ØªØ¬Ø± Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚</p>

            <div id="loginForm" class="form-section active">
                <h2 style="color: #ff6b35; margin-bottom: 20px; font-size: 20px;">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
                <div class="form-group">
                    <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label>
                    <input type="email" id="loginEmail" placeholder="Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ">
                </div>
                <div class="form-group">
                    <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</label>
                    <input type="password" id="loginPassword" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                </div>
                <button class="btn-login" onclick="loginUser()">Ø¯Ø®ÙˆÙ„</button>
                <div style="text-align: center; margin-top: 20px; color: #999;">
                    Ù„Ø§ ØªÙ…Ù„Ùƒ Ø­Ø³Ø§Ø¨ØŸ <a style="color: #ff6b35; cursor: pointer; font-weight: bold;" onclick="toggleForms()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</a>
                </div>
            </div>

            <div id="registerForm" class="form-section">
                <h2 style="color: #ff6b35; margin-bottom: 20px; font-size: 20px;">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h2>
                <div class="form-group">
                    <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label>
                    <input type="text" id="regUsername" placeholder="Ø§Ø®ØªØ± Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù…">
                </div>
                <div class="form-group">
                    <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label>
                    <input type="email" id="regEmail" placeholder="Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ">
                </div>
                <div class="form-group">
                    <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</label>
                    <input type="password" id="regPassword" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©">
                </div>
                <div class="form-group">
                    <label>Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨:</label>
                    <select id="accountType" onchange="toggleAdminPassword()">
                        <option value="customer">Ø²Ø§Ø¦Ø± Ø¹Ø§Ø¯ÙŠ</option>
                        <option value="admin">Ù…Ø³Ø¤ÙˆÙ„</option>
                    </select>
                </div>
                <div id="adminPasswordField" class="form-group" style="display:none;">
                    <label>ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„:</label>
                    <input type="password" id="adminPass" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„">
                </div>
                <button class="btn-login" onclick="registerUser()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
                <div style="text-align: center; margin-top: 20px; color: #999;">
                    Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ <a style="color: #ff6b35; cursor: pointer; font-weight: bold;" onclick="toggleForms()">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</a>
                </div>
            </div>
        </div>
    </div>

    <!-- MAIN APPLICATION -->
    <div id="mainApp" style="display:none;">
        <header class="header">
            <nav class="navbar">
                <div class="logo">âš¡ SCATTER GSM</div>
                <ul class="nav-links">
                    <li><a onclick="showPage('store')">Ø§Ù„Ù…ØªØ¬Ø±</a></li>
                    <li id="adminLink" style="display:none;"><a onclick="showPage('admin')">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a></li>
                    <li id="ordersLink" style="display:none;"><a onclick="showPage('orders')">Ø·Ù„Ø¨Ø§ØªÙŠ</a></li>
                </ul>
                <div class="nav-right">
                    <span class="user-info" id="userInfo">Ù…Ø³ØªØ®Ø¯Ù…</span>
                    <button class="btn-logout" onclick="logout()">Ø®Ø±ÙˆØ¬</button>
                    <div class="cart-icon" id="cartBtn" style="display:none;" onclick="toggleCart()">
                        ğŸ›’ <span class="cart-count" id="cartCount">0</span>
                    </div>
                </div>
            </nav>
        </header>

        <!-- STORE PAGE -->
        <div id="storePage" class="content active">
            <!-- HERO SECTION -->
            <div class="hero-section">
                <div class="hero-content">
                    <h1>SCATTER GSM STORE</h1>
                    <p class="tagline">Ø§ÙƒØªØ´Ù Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© - Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ Ù„Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù…Ù†</p>
                    <div class="hero-features">
                        <div class="hero-feature">
                            <div class="hero-feature-icon">ğŸšš</div>
                            <div class="hero-feature-text">Ø´Ø­Ù† Ø³Ø±ÙŠØ¹</div>
                        </div>
                        <div class="hero-feature">
                            <div class="hero-feature-icon">ğŸ”’</div>
                            <div class="hero-feature-text">Ø´Ø±Ø§Ø¡ Ø¢Ù…Ù†</div>
                        </div>
                        <div class="hero-feature">
                            <div class="hero-feature-icon">ğŸ’°</div>
                            <div class="hero-feature-text">Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø®ÙØ¶Ø©</div>
                        </div>
                        <div class="hero-feature">
                            <div class="hero-feature-icon">â­</div>
                            <div class="hero-feature-text">Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container">
                <!-- PROMOTIONAL BANNERS -->
                <div class="banner-grid" style="margin-bottom: 50px;">
                    <div class="banner-card" onclick="filterByDiscount()">
                        <div class="banner-content">
                            <div class="banner-label">Ø¹Ø±Ø¶ Ø®Ø§Øµ</div>
                            <div class="banner-title">Ø®ØµÙ… Ø­ØªÙ‰ 50%</div>
                            <div class="banner-discount">Ø¢Ø®Ø± 48 Ø³Ø§Ø¹Ø©</div>
                            <button class="banner-btn">ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†</button>
                        </div>
                    </div>
                    <div class="banner-card" style="background: linear-gradient(135deg, #667eea, #764ba2);" onclick="filterByCategory('software')">
                        <div class="banner-content">
                            <div class="banner-label">ØªØµÙ†ÙŠÙ</div>
                            <div class="banner-title">Ø¨Ø±Ø§Ù…Ø¬ Ø³ÙˆÙØªÙˆÙŠØ±</div>
                            <div class="banner-discount">Ø£Ø¯ÙˆØ§Øª Ø§Ø­ØªØ±Ø§ÙÙŠØ©</div>
                            <button class="banner-btn">Ø§Ø³ØªÙƒØ´Ù</button>
                        </div>
                    </div>
                    <div class="banner-card" style="background: linear-gradient(135deg, #f093fb, #f5576c);" onclick="filterByCategory('templates')">
                        <div class="banner-content">
                            <div class="banner-label">Ø¬Ø¯ÙŠØ¯</div>
                            <div class="banner-title">Ù…Ø®Ø·Ø·Ø§Øª Ø¬Ø§Ù‡Ø²Ø©</div>
                            <div class="banner-discount">ØªØµÙ…ÙŠÙ…Ø§Øª Ø­ØµØ±ÙŠØ©</div>
                            <button class="banner-btn">Ù…Ø´Ø§Ù‡Ø¯Ø©</button>
                        </div>
                    </div>
                </div>

                <!-- FEATURED PRODUCTS SECTION -->
                <div class="featured-section">
                    <span class="featured-label">â­ Ù…Ù†ØªØ¬Ø§Øª Ù…Ù…ÙŠØ²Ø©</span>
                    <h2 class="section-title">Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>
                    <div class="products-grid" id="productsGrid"></div>
                </div>

                <!-- CATEGORIES SECTION -->
                <div class="categories-section" id="categoriesSection" style="display: none;">
                    <h2 class="section-title">ØªØµÙØ­ Ø­Ø³Ø¨ Ø§Ù„ØªØµÙ†ÙŠÙ</h2>
                    <div class="categories-grid" id="categoriesGrid"></div>
                </div>

                <!-- TESTIMONIALS SECTION -->
                <div style="background: linear-gradient(135deg, rgba(102,126,234,0.1), rgba(245,87,108,0.1)); padding: 40px 20px; border-radius: 12px; margin: 50px 0; border: 2px solid #667eea;">
                    <h2 class="section-title" style="color: #667eea; border-color: #667eea;">Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div style="background: linear-gradient(135deg, #1a1f3a 0%, #16213e 100%); padding: 25px; border-radius: 12px; border-left: 4px solid #667eea;">
                            <div style="color: #667eea; font-size: 18px; margin-bottom: 10px;">â­â­â­â­â­</div>
                            <p style="color: #ddd; margin-bottom: 15px; line-height: 1.6;">Ù…Ù†ØªØ¬Ø§Øª Ù…Ù…ØªØ§Ø²Ø© ÙˆØ®Ø¯Ù…Ø© Ø¹Ù…Ù„Ø§Ø¡ Ø±Ø§Ø¦Ø¹Ø© Ø¬Ø¯Ø§Ù‹ØŒ Ø£Ù†ØµØ­ Ø§Ù„Ø¬Ù…ÙŠØ¹ Ø¨Ø§Ù„ØªØ³ÙˆÙ‚ Ù…Ù† Ù‡Ù†Ø§!</p>
                            <p style="color: #ff6b35; font-weight: bold;">- Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯</p>
                        </div>
                        <div style="background: linear-gradient(135deg, #1a1f3a 0%, #16213e 100%); padding: 25px; border-radius: 12px; border-left: 4px solid #667eea;">
                            <div style="color: #667eea; font-size: 18px; margin-bottom: 10px;">â­â­â­â­â­</div>
                            <p style="color: #ddd; margin-bottom: 15px; line-height: 1.6;">ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹ Ø¬Ø¯Ø§Ù‹ ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø± ØªÙ†Ø§ÙØ³ÙŠØ© Ø¬Ø¯Ø§Ù‹ Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ø£Ø®Ø±Ù‰.</p>
                            <p style="color: #ff6b35; font-weight: bold;">- ÙØ§Ø·Ù…Ø© Ø¹Ù„ÙŠ</p>
                        </div>
                        <div style="background: linear-gradient(135deg, #1a1f3a 0%, #16213e 100%); padding: 25px; border-radius: 12px; border-left: 4px solid #667eea;">
                            <div style="color: #667eea; font-size: 18px; margin-bottom: 10px;">â­â­â­â­â­</div>
                            <p style="color: #ddd; margin-bottom: 15px; line-height: 1.6;">Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ© Ø¬Ø¯Ø§Ù‹ ÙˆØ¶Ù…Ø§Ù† Ù…ÙˆØ«ÙˆÙ‚ØŒ Ù‡Ø°Ø§ Ø£ÙØ¶Ù„ Ù…ØªØ¬Ø± ØªØ³ÙˆÙ‚ Ø£ÙˆÙ† Ù„Ø§ÙŠÙ†!</p>
                            <p style="color: #ff6b35; font-weight: bold;">- Ù…Ø­Ù…ÙˆØ¯ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡</p>
                        </div>
                    </div>
                </div>

                <!-- STATS SECTION -->
                <div style="background: linear-gradient(135deg, #ff6b35, #ff8c42); padding: 40px 20px; border-radius: 12px; margin: 50px 0; text-align: center; color: white;">
                    <h2 class="section-title" style="color: white; border-color: white; margin-bottom: 30px;">Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø±Ù†Ø§</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px;">
                        <div>
                            <div style="font-size: 36px; font-weight: bold; margin-bottom: 10px;" id="statsProducts">0</div>
                            <div style="font-size: 14px; opacity: 0.9;">Ù…Ù†ØªØ¬ Ù…ØªØ§Ø­</div>
                        </div>
                        <div>
                            <div style="font-size: 36px; font-weight: bold; margin-bottom: 10px;" id="statsUsers">0</div>
                            <div style="font-size: 14px; opacity: 0.9;">Ø¹Ù…ÙŠÙ„ Ø±Ø§Ø¶ÙŠ</div>
                        </div>
                        <div>
                            <div style="font-size: 36px; font-weight: bold; margin-bottom: 10px;" id="statsOrders">0</div>
                            <div style="font-size: 14px; opacity: 0.9;">Ø·Ù„Ø¨ Ù…Ù†Ø¬Ø²</div>
                        </div>
                        <div>
                            <div style="font-size: 36px; font-weight: bold; margin-bottom: 10px;">100%</div>
                            <div style="font-size: 14px; opacity: 0.9;">Ø±Ø¶Ø§ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ADMIN PAGE -->
        <div id="adminPage" class="content">
            <div class="container">
                <h2 class="page-title">ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>

                <div class="stats-grid" id="statsGrid"></div>

                <div class="tabs">
                    <button class="tab-btn active" onclick="switchAdminTab('products')">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</button>
                    <button class="tab-btn" onclick="switchAdminTab('users')">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</button>
                    <button class="tab-btn" onclick="switchAdminTab('orders')">Ø³Ø¬Ù„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</button>
                </div>

                <!-- PRODUCTS MANAGEMENT -->
                <div id="productsTab">
                    <div class="form-container">
                        <h3>â• Ø¥Ø¶Ø§ÙØ©/ØªØ¹Ø¯ÙŠÙ„ Ù…Ù†ØªØ¬</h3>
                        <div class="image-preview" id="imagePreview">
                            <span style="color: #666;">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©</span>
                        </div>
                        <div class="form-group-inline" style="margin-bottom: 15px;">
                            <label>ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©:</label>
                            <input type="file" id="productImage" accept="image/*" onchange="previewImage()">
                        </div>
                        <div class="form-row">
                            <div class="form-group-inline">
                                <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:</label>
                                <input type="text" id="productName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
                            </div>
                            <div class="form-group-inline">
                                <label>Ø§Ù„ØªØµÙ†ÙŠÙ:</label>
                                <select id="productCategory">
                                    <option value="games">Ø£Ù„Ø¹Ø§Ø¨</option>
                                    <option value="cards">Ø¨Ø·Ø§Ù‚Ø§Øª</option>
                                    <option value="subscription">Ø§Ø´ØªØ±Ø§ÙƒØ§Øª</option>
                                    <option value="programs">Ø¨Ø±Ø§Ù…Ø¬</option>
                                    <option value="templates">Ù…Ø®Ø·Ø·Ø§Øª</option>
                                    <option value="software">Ø¨Ø±Ø§Ù…Ø¬ Ø³ÙˆÙØªÙˆÙŠØ±</option>
                                </select>
                            </div>
                            <div class="form-group-inline">
                                <label>Ø§Ù„Ø³Ø¹Ø±:</label>
                                <input type="number" id="productPrice" placeholder="Ø§Ù„Ø³Ø¹Ø±">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group-inline">
                                <label>Ø§Ù„ÙƒÙ…ÙŠØ©:</label>
                                <input type="number" id="productStock" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©">
                            </div>
                            <div class="form-group-inline">
                                <label>Ø§Ù„ØªÙ‚ÙŠÙŠÙ…:</label>
                                <input type="number" id="productRating" min="0" max="5" step="0.1" placeholder="0 - 5">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group-inline" style="grid-column: 1/-1;">
                                <label>Ø§Ù„ÙˆØµÙ:</label>
                                <textarea id="productDescription" placeholder="ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬"></textarea>
                            </div>
                        </div>
                        <button class="btn-primary" onclick="addProduct()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬</button>
                    </div>

                    <div class="table-container">
                        <div class="table-responsive">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Ø§Ù„ØµÙˆØ±Ø©</th>
                                        <th>Ø§Ù„Ø§Ø³Ù…</th>
                                        <th>Ø§Ù„ØªØµÙ†ÙŠÙ</th>
                                        <th>Ø§Ù„Ø³Ø¹Ø±</th>
                                        <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                                        <th>Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</th>
                                        <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                                    </tr>
                                </thead>
                                <tbody id="productsTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- USERS MANAGEMENT -->
                <div id="usersTab" style="display:none;">
                    <div style="background: linear-gradient(135deg, rgba(255,107,53,0.1), rgba(102,126,234,0.1)); padding: 20px; border-radius: 12px; margin-bottom: 30px; border: 2px solid #ff6b35;">
                        <h3 style="color: #ff6b35; margin-bottom: 15px;">ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                            <div style="background: #1a1f3a; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid #667eea;">
                                <div style="font-size: 28px; color: #667eea; font-weight: bold;" id="totalUsersCount">0</div>
                                <div style="color: #999; font-size: 12px; margin-top: 5px;">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</div>
                            </div>
                            <div style="background: #1a1f3a; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid #4caf50;">
                                <div style="font-size: 28px; color: #4caf50; font-weight: bold;" id="adminUsersCount">0</div>
                                <div style="color: #999; font-size: 12px; margin-top: 5px;">Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙˆÙ†</div>
                            </div>
                            <div style="background: #1a1f3a; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid #ff9800;">
                                <div style="font-size: 28px; color: #ff9800; font-weight: bold;" id="customerUsersCount">0</div>
                                <div style="color: #999; font-size: 12px; margin-top: 5px;">Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
                            </div>
                            <div style="background: #1a1f3a; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid #2196F3;">
                                <div style="font-size: 28px; color: #2196F3; font-weight: bold;" id="newUsersToday">0</div>
                                <div style="color: #999; font-size: 12px; margin-top: 5px;">Ù…Ø³Ø¬Ù„ÙŠÙ† Ø§Ù„ÙŠÙˆÙ…</div>
                            </div>
                        </div>
                    </div>

                    <div class="table-container">
                        <div style="padding: 15px; background: rgba(255,107,53,0.1); border-bottom: 2px solid #ff6b35;">
                            <input type="text" id="userSearchInput" placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø³ØªØ®Ø¯Ù… (Ø§Ø³Ù… Ø£Ùˆ Ø¨Ø±ÙŠØ¯)" 
                                style="width: 100%; padding: 10px; border: 2px solid #ff6b35; border-radius: 6px; background: #1a1f3a; color: white; font-size: 14px;"
                                onkeyup="filterUsers()">
                        </div>
                        <div class="table-responsive">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Ø±Ù‚Ù…</th>
                                        <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</th>
                                        <th>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</th>
                                        <th>Ø§Ù„Ù†ÙˆØ¹</th>
                                        <th>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„</th>
                                        <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                        <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                                    </tr>
                                </thead>
                                <tbody id="usersTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- ORDERS -->
                <div id="ordersTab" style="display:none;">
                    <div class="table-container">
                        <div class="table-responsive">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨</th>
                                        <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
                                        <th>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</th>
                                        <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
                                        <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                                        <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                    </tr>
                                </thead>
                                <tbody id="ordersTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ORDERS PAGE (Customer) -->
        <div id="ordersPage" class="content">
            <div class="container">
                <h2 class="page-title">ğŸ“¦ Ø·Ù„Ø¨Ø§ØªÙŠ</h2>
                <div class="table-container">
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨</th>
                                    <th>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</th>
                                    <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
                                    <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                                    <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                </tr>
                            </thead>
                            <tbody id="myOrdersTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- CART MODAL -->
    <!-- CUSTOMER INFO MODAL -->
    <div id="customerInfoModal" class="modal">
        <div class="modal-content" style="width: 100%; max-width: 500px;">
            <div class="modal-header">
                <h2>ğŸ“‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø­Ù†</h2>
                <button class="close-btn" onclick="closeCustomerInfoModal()">âœ•</button>
            </div>
            <div style="padding: 20px;">
                <div id="customerInfoFields"></div>
                <button class="btn-checkout" style="width: 100%; margin-top: 20px;" onclick="submitCustomerInfo()">âœ… Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø´Ø±Ø§Ø¡</button>
                <button class="btn-checkout" style="background: #666; width: 100%; margin-top: 10px;" onclick="closeCustomerInfoModal()">âŒ Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </div>
    </div>

    <div id="cartModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ›’ Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</h2>
                <button class="close-btn" onclick="toggleCart()">âœ•</button>
            </div>
            <div id="cartItems"></div>
            <div class="cart-total" id="cartTotal">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 0 Ø¯Ø¬</div>
            <button class="btn-checkout" onclick="proceedToCheckout()">âœ… Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø´Ø±Ø§Ø¡</button>
            <button class="btn-checkout" style="background: #666;" onclick="toggleCart()">âŒ Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>

    <!-- EDIT PRODUCT MODAL -->
    <!-- INVOICE MODAL -->
    <div id="invoiceModal" class="modal">
        <div class="modal-content" style="width: 100%; max-width: 700px; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h2>ğŸ§¾ Ø§Ù„ÙØ§ØªÙˆØ±Ø©</h2>
                <button class="close-btn" onclick="closeInvoiceModal()">âœ•</button>
            </div>
            <div id="invoiceContent" style="padding: 20px; background: white; color: #333;">
            </div>
            <div style="padding: 20px; background: #f5f5f5; border-top: 2px solid #ff6b35;">
                <button class="btn-checkout" onclick="downloadInvoice()" style="width: 100%; background: #4caf50; margin-bottom: 10px;">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø© (PDF)</button>
                <button class="btn-checkout" onclick="openWhatsAppChat()" style="width: 100%; background: #25d366; margin-bottom: 10px;">ğŸ’¬ ÙØªØ­ ÙˆØ§ØªØ³Ø§Ø¨</button>
                <button class="btn-checkout" onclick="openTelegramChat()" style="width: 100%; background: #0088cc; margin-bottom: 10px;">ğŸ“± ÙØªØ­ ØªÙ„ØºØ±Ø§Ù…</button>
                <button class="btn-checkout" style="background: #666; width: 100%;" onclick="closeInvoiceModal()">âœ“ Ø£ØºÙ„Ù‚</button>
            </div>
        </div>
    </div>

    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬</h2>
                <button class="close-btn" onclick="closeEditModal()">âœ•</button>
            </div>
            <div class="image-preview" id="editImagePreview">
                <span style="color: #666;">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©</span>
            </div>
            <div class="form-group-inline" style="margin-bottom: 15px;">
                <label>ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©:</label>
                <input type="file" id="editProductImage" accept="image/*" onchange="previewEditImage()">
            </div>
            <div class="form-row">
                <div class="form-group-inline">
                    <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:</label>
                    <input type="text" id="editProductName">
                </div>
                <div class="form-group-inline">
                    <label>Ø§Ù„ØªØµÙ†ÙŠÙ:</label>
                    <select id="editProductCategory">
                        <option value="games">Ø£Ù„Ø¹Ø§Ø¨</option>
                        <option value="cards">Ø¨Ø·Ø§Ù‚Ø§Øª</option>
                        <option value="subscription">Ø§Ø´ØªØ±Ø§ÙƒØ§Øª</option>
                        <option value="programs">Ø¨Ø±Ø§Ù…Ø¬</option>
                        <option value="templates">Ù…Ø®Ø·Ø·Ø§Øª</option>
                        <option value="software">Ø¨Ø±Ø§Ù…Ø¬ Ø³ÙˆÙØªÙˆÙŠØ±</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group-inline">
                    <label>Ø§Ù„Ø³Ø¹Ø±:</label>
                    <input type="number" id="editProductPrice">
                </div>
                <div class="form-group-inline">
                    <label>Ø§Ù„ÙƒÙ…ÙŠØ©:</label>
                    <input type="number" id="editProductStock">
                </div>
                <div class="form-group-inline">
                    <label>Ø§Ù„ØªÙ‚ÙŠÙŠÙ…:</label>
                    <input type="number" id="editProductRating" min="0" max="5" step="0.1">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group-inline" style="grid-column: 1/-1;">
                    <label>Ø§Ù„ÙˆØµÙ:</label>
                    <textarea id="editProductDescription"></textarea>
                </div>
            </div>
            <button class="btn-primary" onclick="saveEditProduct()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
        </div>
    </div>

    <footer class="footer" id="footer" style="display:none;">
        <p>&copy; 2026 SCATTER GSM STORE. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
    </footer>

    <script>
        const adminPassword = "admin123";
        let users = {
            'admin@scattergsm.com': {
                id: 1,
                username: 'Admin',
                password: 'admin123',
                email: 'admin@scattergsm.com',
                role: 'admin',
                joined: '2026-01-01'
            }
        };

        let products = [
            { 
                id: 1, 
                name: 'ÙØ±ÙŠ ÙØ§ÙŠØ± 100 Ø§Ù„Ù…Ø§Ø³', 
                category: 'games', 
                price: 150, 
                image: 'ğŸ®',
                description: 'Ø´Ø­Ù† ÙÙˆØ±ÙŠ ÙˆØ¢Ù…Ù†', 
                stock: 50,
                rating: 4.8
            },
            { 
                id: 2, 
                name: 'iTunes Card 500', 
                category: 'cards', 
                price: 550, 
                image: 'ğŸµ',
                description: 'Ø¨Ø·Ø§Ù‚Ø© Ø¢ÙŠØªÙˆÙ†Ø² Ù…ÙˆØ«ÙˆÙ‚Ø©', 
                stock: 30,
                rating: 4.9
            },
            { 
                id: 3, 
                name: 'Microsoft Office 2024', 
                category: 'software', 
                price: 1200, 
                image: 'ğŸ’»',
                description: 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§ÙˆÙÙŠØ³ Ù…ØªÙƒØ§Ù…Ù„ - Word, Excel, PowerPoint', 
                stock: 15,
                rating: 4.9
            },
            { 
                id: 4, 
                name: 'Photoshop 2024', 
                category: 'software', 
                price: 1500, 
                image: 'ğŸ¨',
                description: 'Ù…Ø­Ø±Ø± ØµÙˆØ± Ø§Ø­ØªØ±Ø§ÙÙŠ Ø¨Ø£Ø¯ÙˆØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©', 
                stock: 12,
                rating: 4.8
            },
            { 
                id: 5, 
                name: 'Ù…Ø®Ø·Ø· Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹', 
                category: 'templates', 
                price: 300, 
                image: 'ğŸ“‹',
                description: 'Ù…Ø®Ø·Ø· Excel Ø§Ø­ØªØ±Ø§ÙÙŠ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹', 
                stock: 100,
                rating: 4.7
            },
            { 
                id: 6, 
                name: 'Ù‚Ø§Ù„Ø¨ Ù…ÙˆÙ‚Ø¹ ÙˆÙŠØ¨ HTML5', 
                category: 'templates', 
                price: 400, 
                image: 'ğŸŒ',
                description: 'Ù‚Ø§Ù„Ø¨ Ù…ÙˆÙ‚Ø¹ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹ CSS Ùˆ JavaScript', 
                stock: 80,
                rating: 4.9
            },
            { 
                id: 7, 
                name: 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø­Ø§Ø³Ø¨Ø© Ø´Ø§Ù…Ù„Ø©', 
                category: 'programs', 
                price: 800, 
                image: 'ğŸ“Š',
                description: 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø­Ø§Ø³Ø¨Ø© Ù…ØªÙ‚Ø¯Ù… Ù„Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„ØµØºÙŠØ±Ø© ÙˆØ§Ù„Ù…ØªÙˆØ³Ø·Ø©', 
                stock: 20,
                rating: 4.8
            },
            { 
                id: 8, 
                name: 'Ø¨Ø±Ù†Ø§Ù…Ø¬ ØªØ­Ø±ÙŠØ± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ', 
                category: 'programs', 
                price: 950, 
                image: 'ğŸ¬',
                description: 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ø­ØªØ±Ø§ÙÙŠ Ù„ØªØ­Ø±ÙŠØ± ÙˆÙ…ÙˆÙ†ØªØ§Ø¬ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª', 
                stock: 18,
                rating: 4.9
            }
        ];

        let orders = [];
        let currentUser = null;
        let cart = [];
        let nextProductId = 9;
        let editingProductId = null;

        function toggleForms() {
            document.getElementById('loginForm').classList.toggle('active');
            document.getElementById('registerForm').classList.toggle('active');
        }

        function toggleAdminPassword() {
            const field = document.getElementById('adminPasswordField');
            field.style.display = document.getElementById('accountType').value === 'admin' ? 'block' : 'none';
        }

        function registerUser() {
            const username = document.getElementById('regUsername').value;
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;
            const accountType = document.getElementById('accountType').value;
            const adminPassInput = document.getElementById('adminPass').value;

            if (!username || !email || !password) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }

            if (email in users) {
                alert('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…ÙˆØ¬ÙˆØ¯');
                return;
            }

            if (accountType === 'admin' && adminPassInput !== adminPassword) {
                alert('ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
                return;
            }

            const userId = Math.max(...Object.values(users).map(u => u.id || 0)) + 1;
            users[email] = {
                id: userId,
                username: username,
                password: password,
                email: email,
                role: accountType,
                joined: new Date().toISOString().split('T')[0]
            };

            alert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­!');
            toggleForms();
        }

        function loginUser() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }

            if (!(email in users)) {
                alert('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');
                return;
            }

            if (users[email].password !== password) {
                alert('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
                return;
            }

            currentUser = users[email];
            showMainApp();
        }

        function showMainApp() {
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('mainApp').style.display = 'block';
            document.getElementById('footer').style.display = 'block';

            document.getElementById('userInfo').textContent = currentUser.username + ' (' + (currentUser.role === 'admin' ? 'Ù…Ø³Ø¤ÙˆÙ„' : 'Ø¹Ù…ÙŠÙ„') + ')';

            if (currentUser.role === 'admin') {
                document.getElementById('adminLink').style.display = 'block';
                document.getElementById('cartBtn').style.display = 'none';
                showPage('admin');
                displayAdminStats();
                displayAdminProducts();
                displayUsers();
                displayOrders();
            } else {
                document.getElementById('cartBtn').style.display = 'block';
                showPage('store');
                displayProducts();
                updateHomeStats();
            }
        }

        function showPage(page) {
            document.querySelectorAll('.content').forEach(el => el.classList.remove('active'));
            
            if (page === 'store') {
                document.getElementById('storePage').classList.add('active');
            } else if (page === 'admin' && currentUser.role === 'admin') {
                document.getElementById('adminPage').classList.add('active');
            } else if (page === 'orders' && currentUser.role === 'customer') {
                document.getElementById('ordersPage').classList.add('active');
                displayMyOrders();
            }
        }

        function switchAdminTab(tab) {
            document.querySelectorAll('[id$="Tab"]').forEach(el => el.style.display = 'none');
            document.getElementById(tab + 'Tab').style.display = 'block';
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            event.target.classList.add('active');
        }

        function previewImage() {
            const file = document.getElementById('productImage').files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    document.getElementById('imagePreview').innerHTML = `<img src="${e.target.result}">`;
                };
                reader.readAsDataURL(file);
            }
        }

        function previewEditImage() {
            const file = document.getElementById('editProductImage').files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    document.getElementById('editImagePreview').innerHTML = `<img src="${e.target.result}">`;
                };
                reader.readAsDataURL(file);
            }
        }

        function displayProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';

            if (products.length === 0) {
                grid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #ff6b35;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</div>';
                return;
            }

            products.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card';
                const imageContent = typeof product.image === 'string' && product.image.startsWith('data:') 
                    ? `<img src="${product.image}" style="width: 100%; height: 100%; object-fit: cover;">` 
                    : `<div style="font-size: 80px; display: flex; align-items: center; justify-content: center; width: 100%; height: 100%;">${product.image}</div>`;

                let badge = '';
                if (product.stock < 5 && product.stock > 0) {
                    badge = '<div class="product-badge">Ø§Ù„Ø¢Ø®ÙŠØ±Ø©!</div>';
                } else if (product.stock === 0) {
                    badge = '<div class="product-badge" style="background: #999;">ØºÙŠØ± Ù…ØªÙˆÙØ±</div>';
                }

                card.innerHTML = `
                    ${badge}
                    <div class="product-image">${imageContent}</div>
                    <div class="product-info">
                        <div class="product-category" style="color: #667eea; font-size: 12px; margin-bottom: 5px;">${product.category}</div>
                        <div class="product-name">${product.name}</div>
                        <div class="product-rating">â­ ${product.rating ? product.rating.toFixed(1) : 'Ø¬Ø¯ÙŠØ¯'} (${product.reviews ? product.reviews : 0} ØªÙ‚ÙŠÙŠÙ…)</div>
                        <div class="product-price" style="font-size: 18px; color: #ff6b35; margin: 10px 0;">${product.price} Ø¯Ø¬</div>
                        <button class="btn-add-cart" onclick="addToCart(${product.id})" style="width: 100%; padding: 10px; background: ${product.stock > 0 ? '#ff6b35' : '#999'}; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.3s;" ${product.stock === 0 ? 'disabled' : ''}>
                            ${product.stock > 0 ? 'ğŸ›’ Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©' : 'âœ— ØºÙŠØ± Ù…ØªÙˆÙØ±'}
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });

            // Update homepage statistics
            updateHomeStats();
        }

        function updateHomeStats() {
            document.getElementById('statsProducts').textContent = products.length;
            document.getElementById('statsUsers').textContent = Object.keys(users).length;
            document.getElementById('statsOrders').textContent = orders.length;
        }

        function filterByDiscount() {
            // Sort products by best value
            const sorted = [...products].sort((a, b) => b.rating - a.rating);
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';
            sorted.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card';
                const imageContent = typeof product.image === 'string' && product.image.startsWith('data:') 
                    ? `<img src="${product.image}" style="width: 100%; height: 100%; object-fit: cover;">` 
                    : `<div style="font-size: 80px; display: flex; align-items: center; justify-content: center; width: 100%; height: 100%;">${product.image}</div>`;
                
                card.innerHTML = `
                    <div class="product-badge" style="background: #f5576c;">Ø®ØµÙ…</div>
                    <div class="product-image">${imageContent}</div>
                    <div class="product-info">
                        <div class="product-category" style="color: #667eea; font-size: 12px; margin-bottom: 5px;">${product.category}</div>
                        <div class="product-name">${product.name}</div>
                        <div class="product-rating">â­ ${product.rating.toFixed(1)}</div>
                        <div class="product-price" style="font-size: 18px; color: #ff6b35; margin: 10px 0;">${product.price} Ø¯Ø¬</div>
                        <button class="btn-add-cart" onclick="addToCart(${product.id})" style="width: 100%; padding: 10px; background: #ff6b35; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.3s;">
                            ğŸ›’ Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function filterByCategory(category) {
            const filtered = products.filter(p => p.category === category);
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';
            filtered.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card';
                const imageContent = typeof product.image === 'string' && product.image.startsWith('data:') 
                    ? `<img src="${product.image}" style="width: 100%; height: 100%; object-fit: cover;">` 
                    : `<div style="font-size: 80px; display: flex; align-items: center; justify-content: center; width: 100%; height: 100%;">${product.image}</div>`;
                
                card.innerHTML = `
                    <div class="product-image">${imageContent}</div>
                    <div class="product-info">
                        <div class="product-category" style="color: #667eea; font-size: 12px; margin-bottom: 5px;">${product.category}</div>
                        <div class="product-name">${product.name}</div>
                        <div class="product-rating">â­ ${product.rating.toFixed(1)}</div>
                        <div class="product-price" style="font-size: 18px; color: #ff6b35; margin: 10px 0;">${product.price} Ø¯Ø¬</div>
                        <button class="btn-add-cart" onclick="addToCart(${product.id})" style="width: 100%; padding: 10px; background: ${product.stock > 0 ? '#ff6b35' : '#999'}; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.3s;" ${product.stock === 0 ? 'disabled' : ''}>
                            ${product.stock > 0 ? 'ğŸ›’ Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©' : 'âœ— ØºÙŠØ± Ù…ØªÙˆÙØ±'}
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function displayAdminStats() {
            const stats = [
                { label: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª', value: products.length },
                { label: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†', value: Object.keys(users).length },
                { label: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª', value: orders.length },
                { label: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª', value: orders.reduce((sum, o) => sum + o.total, 0) + ' Ø¯Ø¬' }
            ];

            document.getElementById('statsGrid').innerHTML = stats.map(stat => `
                <div class="stat-card">
                    <div class="stat-value">${stat.value}</div>
                    <div class="stat-label">${stat.label}</div>
                </div>
            `).join('');
        }

        function displayAdminProducts() {
            const tbody = document.getElementById('productsTableBody');
            tbody.innerHTML = products.map(p => `
                <tr>
                    <td>
                        ${typeof p.image === 'string' && p.image.startsWith('data:') 
                            ? `<img src="${p.image}" style="width: 40px; height: 40px; border-radius: 4px; object-fit: cover;">` 
                            : p.image}
                    </td>
                    <td>${p.name}</td>
                    <td>${p.category}</td>
                    <td>${p.price} Ø¯Ø¬</td>
                    <td>${p.stock}</td>
                    <td>${p.rating ? p.rating.toFixed(1) : 'N/A'}</td>
                    <td>
                        <button class="btn-edit" onclick="openEditModal(${p.id})">ØªØ¹Ø¯ÙŠÙ„</button>
                        <button class="btn-delete" onclick="deleteProduct(${p.id})">Ø­Ø°Ù</button>
                    </td>
                </tr>
            `).join('');
        }

        function displayUsers() {
            const usersList = Object.values(users);
            const tbody = document.getElementById('usersTableBody');
            const today = new Date().toISOString().split('T')[0];
            
            // Calculate statistics
            const adminCount = usersList.filter(u => u.role === 'admin').length;
            const customerCount = usersList.filter(u => u.role === 'customer').length;
            const todayCount = usersList.filter(u => u.joined === today).length;
            
            document.getElementById('totalUsersCount').textContent = usersList.length;
            document.getElementById('adminUsersCount').textContent = adminCount;
            document.getElementById('customerUsersCount').textContent = customerCount;
            document.getElementById('newUsersToday').textContent = todayCount;
            
            tbody.innerHTML = usersList.map((u, index) => `
                <tr>
                    <td style="font-weight: bold; color: #ff6b35;">${index + 1}</td>
                    <td>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 30px; height: 30px; border-radius: 50%; background: linear-gradient(135deg, #ff6b35, #ff8c42); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                                ${u.username.charAt(0).toUpperCase()}
                            </div>
                            <span>${u.username}</span>
                        </div>
                    </td>
                    <td style="color: #667eea; font-size: 13px;">${u.email}</td>
                    <td>
                        <span style="background: ${u.role === 'admin' ? '#2196F3' : '#4caf50'}; color: white; padding: 4px 10px; border-radius: 12px; font-size: 12px; font-weight: bold;">
                            ${u.role === 'admin' ? 'ğŸ‘‘ Ù…Ø³Ø¤ÙˆÙ„' : 'ğŸ‘¤ Ø¹Ù…ÙŠÙ„'}
                        </span>
                    </td>
                    <td style="color: #999; font-size: 12px;">${u.joined}</td>
                    <td>
                        <span style="background: #4caf50; color: white; padding: 4px 8px; border-radius: 4px; font-size: 11px; font-weight: bold;">âœ… Ù†Ø´Ø·</span>
                    </td>
                    <td>
                        ${u.id !== currentUser.id ? `
                            <button class="btn-view" style="margin: 2px;" onclick="viewUserDetails(${u.id})">ğŸ‘ï¸ Ø¹Ø±Ø¶</button>
                            <button class="btn-delete" style="margin: 2px;" onclick="deleteUser(${u.id})">ğŸ—‘ï¸ Ø­Ø°Ù</button>
                        ` : '<span style="color: #999; font-size: 11px;">Ø£Ù†Øª</span>'}
                    </td>
                </tr>
            `).join('');
        }

        function filterUsers() {
            const searchInput = document.getElementById('userSearchInput').value.toLowerCase();
            const usersList = Object.values(users);
            const tbody = document.getElementById('usersTableBody');
            const today = new Date().toISOString().split('T')[0];
            
            const filtered = usersList.filter(u => 
                u.username.toLowerCase().includes(searchInput) || 
                u.email.toLowerCase().includes(searchInput)
            );
            
            tbody.innerHTML = filtered.map((u, index) => `
                <tr>
                    <td style="font-weight: bold; color: #ff6b35;">${index + 1}</td>
                    <td>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 30px; height: 30px; border-radius: 50%; background: linear-gradient(135deg, #ff6b35, #ff8c42); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                                ${u.username.charAt(0).toUpperCase()}
                            </div>
                            <span>${u.username}</span>
                        </div>
                    </td>
                    <td style="color: #667eea; font-size: 13px;">${u.email}</td>
                    <td>
                        <span style="background: ${u.role === 'admin' ? '#2196F3' : '#4caf50'}; color: white; padding: 4px 10px; border-radius: 12px; font-size: 12px; font-weight: bold;">
                            ${u.role === 'admin' ? 'ğŸ‘‘ Ù…Ø³Ø¤ÙˆÙ„' : 'ğŸ‘¤ Ø¹Ù…ÙŠÙ„'}
                        </span>
                    </td>
                    <td style="color: #999; font-size: 12px;">${u.joined}</td>
                    <td>
                        <span style="background: #4caf50; color: white; padding: 4px 8px; border-radius: 4px; font-size: 11px; font-weight: bold;">âœ… Ù†Ø´Ø·</span>
                    </td>
                    <td>
                        ${u.id !== currentUser.id ? `
                            <button class="btn-view" style="margin: 2px;" onclick="viewUserDetails(${u.id})">ğŸ‘ï¸ Ø¹Ø±Ø¶</button>
                            <button class="btn-delete" style="margin: 2px;" onclick="deleteUser(${u.id})">ğŸ—‘ï¸ Ø­Ø°Ù</button>
                        ` : '<span style="color: #999; font-size: 11px;">Ø£Ù†Øª</span>'}
                    </td>
                </tr>
            `).join('');
        }

        function viewUserDetails(userId) {
            const user = Object.values(users).find(u => u.id === userId);
            if (!user) return;
            
            const userOrders = orders.filter(o => o.userId === userId);
            const totalSpent = userOrders.reduce((sum, o) => sum + o.total, 0);
            
            alert(`
ğŸ“‹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
â”â”â”â”â”â”â”â”â”â”
ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${user.username}
ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯: ${user.email}
ğŸ‘‘ Ø§Ù„Ù†ÙˆØ¹: ${user.role === 'admin' ? 'Ù…Ø³Ø¤ÙˆÙ„' : 'Ø¹Ù…ÙŠÙ„'}
ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„: ${user.joined}

ğŸ›’ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:
â”â”â”â”â”â”â”â”â”â”
ğŸ“¦ Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª: ${userOrders.length}
ğŸ’° Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª: ${totalSpent} Ø¯Ø¬
            `);
        }

        function displayOrders() {
            const tbody = document.getElementById('ordersTableBody');
            tbody.innerHTML = orders.map((o, i) => `
                <tr>
                    <td>#${i + 1}</td>
                    <td>${o.userName}</td>
                    <td>${o.items.map(it => it.name).join(', ')}</td>
                    <td>${o.total} Ø¯Ø¬</td>
                    <td>${o.date}</td>
                    <td><span style="background: #4caf50; padding: 4px 8px; border-radius: 4px; color: white;">âœ… Ù…ÙƒØªÙ…Ù„</span></td>
                </tr>
            `).join('');
        }

        function displayMyOrders() {
            const myOrders = orders.filter(o => o.userId === currentUser.id);
            const tbody = document.getElementById('myOrdersTableBody');
            tbody.innerHTML = myOrders.map((o, i) => `
                <tr>
                    <td>#${i + 1}</td>
                    <td>${o.items.map(it => it.name).join(', ')}</td>
                    <td>${o.total} Ø¯Ø¬</td>
                    <td>${o.date}</td>
                    <td><span style="background: #4caf50; padding: 4px 8px; border-radius: 4px; color: white;">âœ… Ù…ÙƒØªÙ…Ù„</span></td>
                </tr>
            `).join('');
        }

        function addProduct() {
            const name = document.getElementById('productName').value;
            const category = document.getElementById('productCategory').value;
            const price = parseFloat(document.getElementById('productPrice').value);
            const stock = parseInt(document.getElementById('productStock').value);
            const description = document.getElementById('productDescription').value;
            const rating = parseFloat(document.getElementById('productRating').value) || 0;
            const imageElement = document.getElementById('imagePreview').querySelector('img');
            const image = imageElement ? imageElement.src : 'ğŸ';

            if (!name || !price || !stock || !description) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }

            products.push({
                id: nextProductId++,
                name, category, price, stock, description, rating, image
            });

            document.getElementById('productName').value = '';
            document.getElementById('productPrice').value = '';
            document.getElementById('productStock').value = '';
            document.getElementById('productRating').value = '';
            document.getElementById('productDescription').value = '';
            document.getElementById('productImage').value = '';
            document.getElementById('imagePreview').innerHTML = '<span style="color: #666;">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©</span>';

            displayAdminProducts();
            displayAdminStats();
            showNotification('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬');
        }

        function openEditModal(id) {
            editingProductId = id;
            const product = products.find(p => p.id === id);

            document.getElementById('editProductName').value = product.name;
            document.getElementById('editProductCategory').value = product.category;
            document.getElementById('editProductPrice').value = product.price;
            document.getElementById('editProductStock').value = product.stock;
            document.getElementById('editProductRating').value = product.rating || 0;
            document.getElementById('editProductDescription').value = product.description;

            if (typeof product.image === 'string' && product.image.startsWith('data:')) {
                document.getElementById('editImagePreview').innerHTML = `<img src="${product.image}">`;
            }

            document.getElementById('editModal').classList.add('active');
        }

        function closeEditModal() {
            document.getElementById('editModal').classList.remove('active');
            editingProductId = null;
        }

        function saveEditProduct() {
            const product = products.find(p => p.id === editingProductId);
            product.name = document.getElementById('editProductName').value;
            product.category = document.getElementById('editProductCategory').value;
            product.price = parseFloat(document.getElementById('editProductPrice').value);
            product.stock = parseInt(document.getElementById('editProductStock').value);
            product.rating = parseFloat(document.getElementById('editProductRating').value);
            product.description = document.getElementById('editProductDescription').value;

            const imageElement = document.getElementById('editImagePreview').querySelector('img');
            if (imageElement) {
                product.image = imageElement.src;
            }

            displayAdminProducts();
            displayAdminStats();
            closeEditModal();
            showNotification('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬');
        }

        function deleteProduct(id) {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ')) {
                products = products.filter(p => p.id !== id);
                displayAdminProducts();
                displayAdminStats();
                showNotification('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬');
            }
        }

        function deleteUser(id) {
            const user = Object.values(users).find(u => u.id === id);
            if (!user) return;
            
            if (confirm(`ğŸ—‘ï¸ Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${user.username}?\n\nØ§Ù„Ø¨Ø±ÙŠØ¯: ${user.email}\n\nÙ‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡!`)) {
                delete users[user.email];
                displayUsers();
                showNotification('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');
            }
        }

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existing = cart.find(item => item.id === productId);

            if (existing) {
                existing.quantity++;
            } else {
                cart.push({ ...product, quantity: 1 });
            }

            updateCartCount();
            showNotification(`âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© ${product.name}`);
        }

        function updateCartCount() {
            document.getElementById('cartCount').textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
        }

        function toggleCart() {
            document.getElementById('cartModal').classList.toggle('active');
            if (document.getElementById('cartModal').classList.contains('active')) {
                updateCartDisplay();
            }
        }

        function updateCartDisplay() {
            const cartItemsDiv = document.getElementById('cartItems');
            const cartTotalDiv = document.getElementById('cartTotal');

            if (cart.length === 0) {
                cartItemsDiv.innerHTML = '<p style="text-align: center; color: #999;">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>';
                cartTotalDiv.textContent = 'Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 0 Ø¯Ø¬';
                return;
            }

            let html = '';
            let total = 0;

            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                const img = typeof item.image === 'string' && item.image.startsWith('data:') 
                    ? item.image 
                    : `data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><text x="50%" y="50%" text-anchor="middle" dy=".3em" font-size="40">${item.image}</text></svg>`;

                html += `
                    <div class="cart-item">
                        <img src="${img}" style="width: 50px; height: 50px; border-radius: 4px; object-fit: cover;">
                        <div style="flex: 1;">
                            <div style="font-weight: bold;">${item.name}</div>
                            <small style="color: #999;">Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity}</small>
                        </div>
                        <div style="text-align: right;">
                            <div style="color: #ff6b35;">${itemTotal} Ø¯Ø¬</div>
                            <button onclick="removeFromCart(${item.id})" style="background: #ff1744; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 11px; margin-top: 5px;">Ø­Ø°Ù</button>
                        </div>
                    </div>
                `;
            });

            cartItemsDiv.innerHTML = html;
            cartTotalDiv.textContent = `Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¯Ø¬`;
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartCount();
            updateCartDisplay();
        }

        let customerInfo = {};

        function proceedToCheckout() {
            if (cart.length === 0) {
                alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!');
                return;
            }

            const needsInfo = cart.some(item => item.category === 'programs' || item.category === 'software' || item.category === 'templates');

            if (needsInfo) {
                showCustomerInfoModal();
            } else {
                checkout();
            }
        }

        function showCustomerInfoModal() {
            const fieldsDiv = document.getElementById('customerInfoFields');
            let html = '';
            let needsEmail = false;
            let needsImei = false;

            cart.forEach(item => {
                if (item.category === 'programs') {
                    needsEmail = true;
                } else if (item.category === 'software' || item.category === 'templates') {
                    needsEmail = true;
                    needsImei = true;
                }
            });

            if (needsEmail) {
                html += `
                    <div class="form-group" style="margin-bottom: 15px;">
                        <label style="color: #ff6b35; font-weight: bold; display: block; margin-bottom: 5px;">ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ *</label>
                        <input type="email" id="customerEmail" placeholder="Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" style="width: 100%; padding: 10px; border: 2px solid #ff6b35; border-radius: 6px; background: #1a1f3a; color: white; font-size: 14px;">
                        <small style="color: #999; display: block; margin-top: 5px;">Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯</small>
                    </div>
                `;
            }

            if (needsImei) {
                html += `
                    <div class="form-group" style="margin-bottom: 15px;">
                        <label style="color: #ff6b35; font-weight: bold; display: block; margin-bottom: 5px;">ğŸ“± IMEI (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                        <input type="text" id="customerImei" placeholder="Ø£Ø¯Ø®Ù„ IMEI Ø¬Ù‡Ø§Ø²Ùƒ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" style="width: 100%; padding: 10px; border: 2px solid #667eea; border-radius: 6px; background: #1a1f3a; color: white; font-size: 14px;">
                        <small style="color: #999; display: block; margin-top: 5px;">Ø±Ù‚Ù… ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø¬Ù‡Ø§Ø² (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</small>
                    </div>
                `;
            }

            fieldsDiv.innerHTML = html;
            document.getElementById('customerInfoModal').classList.add('active');
        }

        function closeCustomerInfoModal() {
            document.getElementById('customerInfoModal').classList.remove('active');
            customerInfo = {};
        }

        function submitCustomerInfo() {
            const email = document.getElementById('customerEmail')?.value || '';
            const imei = document.getElementById('customerImei')?.value || '';

            const needsEmail = cart.some(item => item.category === 'programs' || item.category === 'software' || item.category === 'templates');
            if (needsEmail && !email) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ');
                return;
            }

            if (email && !email.includes('@')) {
                alert('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­');
                return;
            }

            customerInfo = { email, imei };
            closeCustomerInfoModal();
            checkout();
        }

        let currentOrder = null;
        let whatsappMessage = '';

        function checkout() {
            if (cart.length === 0) {
                alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!');
                return;
            }

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const orderDate = new Date();
            const orderId = 'ORD-' + Date.now();
            
            let itemsMessage = cart.map(item => `âœ… ${item.name}\nØ§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity}\nØ§Ù„Ø³Ø¹Ø±: ${item.price * item.quantity} Ø¯Ø¬`).join('\n\n');
            
            let customerInfoMessage = '';
            if (customerInfo.email) {
                customerInfoMessage += `\n\nğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: ${customerInfo.email}`;
            }
            if (customerInfo.imei) {
                customerInfoMessage += `\nğŸ“± IMEI: ${customerInfo.imei}`;
            }

            whatsappMessage = `ğŸ›’ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯:\n\n${itemsMessage}\n\nâ”â”â”â”â”â”â”â”â”â”\nğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¯Ø¬${customerInfoMessage}`;

            const order = {
                orderId: orderId,
                userId: currentUser.id,
                userName: currentUser.username,
                items: [...cart],
                total: total,
                date: orderDate.toISOString().split('T')[0],
                time: orderDate.toLocaleTimeString('ar-SA'),
                customerInfo: customerInfo
            };

            orders.push(order);
            currentOrder = order;

            cart = [];
            customerInfo = {};
            updateCartCount();
            toggleCart();
            
            showInvoice(order);
        }

        function showInvoice(order) {
            const invoiceContent = document.getElementById('invoiceContent');
            
            const itemsHTML = order.items.map(item => `
                <tr>
                    <td style="padding: 12px; border-bottom: 1px solid #ddd;">${item.name}</td>
                    <td style="padding: 12px; border-bottom: 1px solid #ddd; text-align: center;">${item.quantity}</td>
                    <td style="padding: 12px; border-bottom: 1px solid #ddd; text-align: center;">${item.price} Ø¯Ø¬</td>
                    <td style="padding: 12px; border-bottom: 1px solid #ddd; text-align: center; font-weight: bold;">${item.price * item.quantity} Ø¯Ø¬</td>
                </tr>
            `).join('');

            let customerInfo = `<p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${order.userName}</p>`;
            if (order.customerInfo.email) {
                customerInfo += `<p><strong>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</strong> ${order.customerInfo.email}</p>`;
            }
            if (order.customerInfo.imei) {
                customerInfo += `<p><strong>IMEI:</strong> ${order.customerInfo.imei}</p>`;
            }

            invoiceContent.innerHTML = `
                <div style="border: 3px solid #ff6b35; padding: 20px; border-radius: 8px;">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <h1 style="color: #ff6b35; margin: 0;">âš¡ SCATTER GSM STORE</h1>
                        <p style="color: #666; margin: 5px 0;">Ù…ØªØ¬Ø± Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚</p>
                    </div>
                    
                    <div style="background: #f9f9f9; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <p style="margin: 5px 0;"><strong>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:</strong> ${order.orderId}</p>
                                <p style="margin: 5px 0;"><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> ${order.date}</p>
                                <p style="margin: 5px 0;"><strong>Ø§Ù„ÙˆÙ‚Øª:</strong> ${order.time}</p>
                            </div>
                            <div>
                                ${customerInfo}
                            </div>
                        </div>
                    </div>

                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #ff6b35; color: white;">
                                <th style="padding: 12px; text-align: right;">Ø§Ù„Ù…Ù†ØªØ¬</th>
                                <th style="padding: 12px; text-align: center;">Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                                <th style="padding: 12px; text-align: center;">Ø§Ù„Ø³Ø¹Ø±</th>
                                <th style="padding: 12px; text-align: center;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${itemsHTML}
                            <tr style="background: #f5f5f5;">
                                <td colspan="3" style="padding: 12px; text-align: left;"><strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</strong></td>
                                <td style="padding: 12px; text-align: center; font-size: 18px; color: #ff6b35; font-weight: bold;">${order.total} Ø¯Ø¬</td>
                            </tr>
                        </tbody>
                    </table>

                    <div style="margin-top: 20px; padding: 15px; background: #e8f5e9; border-left: 4px solid #4caf50; border-radius: 4px;">
                        <p style="margin: 0; color: #2e7d32;"><strong>âœ“ Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±Ø§Ø¡!</strong></p>
                        <p style="margin: 5px 0; color: #666; font-size: 13px;">Ø³ÙŠØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø·Ù„Ø¨Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹. ØªØ§Ø¨Ø¹ Ù…Ø¹Ù†Ø§ Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨ Ø£Ùˆ ØªÙ„ØºØ±Ø§Ù… Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª.</p>
                    </div>
                </div>
            `;

            document.getElementById('invoiceModal').classList.add('active');
            showNotification('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­');
        }

        function closeInvoiceModal() {
            document.getElementById('invoiceModal').classList.remove('active');
        }

        function downloadInvoice() {
            if (!currentOrder) return;

            const { jsPDF } = window.jsPDF;
            const doc = new jsPDF('p', 'mm', 'a4');
            
            // Header
            doc.setFillColor(255, 107, 53);
            doc.rect(0, 0, 210, 25, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(20);
            doc.text('âš¡ SCATTER GSM STORE', 105, 15, { align: 'center' });
            
            doc.setTextColor(51, 51, 51);
            doc.setFontSize(10);
            doc.text('Ù…ØªØ¬Ø± Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚', 105, 22, { align: 'center' });
            
            // Order Info
            let yPos = 35;
            doc.setFontSize(12);
            doc.setTextColor(255, 107, 53);
            doc.text('Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨', 15, yPos);
            
            doc.setTextColor(51, 51, 51);
            doc.setFontSize(10);
            yPos += 8;
            doc.text(`Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${currentOrder.orderId}`, 15, yPos);
            yPos += 6;
            doc.text(`Ø§Ù„ØªØ§Ø±ÙŠØ®: ${currentOrder.date} Ø§Ù„Ø³Ø§Ø¹Ø©: ${currentOrder.time}`, 15, yPos);
            yPos += 6;
            doc.text(`Ø§Ù„Ø¹Ù…ÙŠÙ„: ${currentOrder.userName}`, 15, yPos);
            
            if (currentOrder.customerInfo.email) {
                yPos += 6;
                doc.text(`Ø§Ù„Ø¨Ø±ÙŠØ¯: ${currentOrder.customerInfo.email}`, 15, yPos);
            }
            
            // Items Table
            yPos += 12;
            doc.setFontSize(11);
            doc.setTextColor(255, 107, 53);
            doc.text('ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨', 15, yPos);
            
            yPos += 8;
            doc.setFontSize(9);
            doc.setTextColor(51, 51, 51);
            
            // Table headers
            doc.setFillColor(255, 107, 53);
            doc.setTextColor(255, 255, 255);
            doc.rect(15, yPos - 2, 180, 6, 'F');
            doc.text('Ø§Ù„Ù…Ù†ØªØ¬', 20, yPos + 2);
            doc.text('Ø§Ù„ÙƒÙ…ÙŠØ©', 120, yPos + 2);
            doc.text('Ø§Ù„Ø³Ø¹Ø±', 155, yPos + 2);
            doc.text('Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ', 185, yPos + 2);
            
            yPos += 8;
            doc.setTextColor(51, 51, 51);
            
            // Table rows
            currentOrder.items.forEach(item => {
                if (yPos > 270) {
                    doc.addPage();
                    yPos = 20;
                }
                doc.text(item.name.substring(0, 30), 20, yPos);
                doc.text(item.quantity.toString(), 120, yPos);
                doc.text(item.price + ' Ø¯Ø¬', 155, yPos);
                doc.text((item.price * item.quantity) + ' Ø¯Ø¬', 185, yPos);
                yPos += 6;
            });
            
            // Total
            yPos += 4;
            doc.setFillColor(245, 245, 245);
            doc.rect(15, yPos - 2, 180, 6, 'F');
            doc.setTextColor(255, 107, 53);
            doc.setFontSize(11);
            doc.text('Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:', 155, yPos + 2);
            doc.text(currentOrder.total + ' Ø¯Ø¬', 185, yPos + 2);
            
            // Footer
            yPos += 15;
            doc.setFontSize(9);
            doc.setTextColor(153, 153, 153);
            doc.text('Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±Ø§Ø¡! ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª', 105, yPos, { align: 'center' });
            doc.text('ğŸ“ +213 781 654 175', 105, yPos + 6, { align: 'center' });
            
            doc.save(`Ø§Ù„ÙØ§ØªÙˆØ±Ø©_${currentOrder.orderId}.pdf`);
            showNotification('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø©');
        }

        function openWhatsAppChat() {
            window.open(`https://wa.me/+213781654175?text=${encodeURIComponent(whatsappMessage)}`, '_blank');
        }

        function openTelegramChat() {
            window.open(`https://t.me/+213781654175`, '_blank');
        }

        function logout() {
            currentUser = null;
            cart = [];
            document.getElementById('mainApp').style.display = 'none';
            document.getElementById('footer').style.display = 'none';
            document.getElementById('loginPage').style.display = 'flex';
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }
    </script>
</body>
</html>